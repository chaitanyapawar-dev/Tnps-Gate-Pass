<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time Bound</title>
  <link rel="stylesheet" href="/stylesheets/bound.css">


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
  <link rel="icon" href="/images/4174.png">
  <script>
    function update() {
      if (update) {

        document.getElementById('calender').disabled = true;
        document.getElementById('calender').hidden = true;
        document.getElementById('table-mix').hidden = false;
        document.getElementById('update').hidden = true;
        document.getElementById('cancel').hidden = false;
        document.getElementById('submit').hidden = false;
      }


    }

    function cancel() {
      if (cancel) {
        document.getElementById('calender').disabled = false;
        document.getElementById('calender').hidden = false;
        document.getElementById('table-mix').hidden = true;
        document.getElementById('update').hidden = false;
        document.getElementById('cancel').hidden = true;
        document.getElementById('submit').hidden = true;
      }
    }

    function showdiv(){
      let select=document.getElementById("dropdownlist2");
      console.log(select.value);
      if(select.value=='Custom'){
        document.getElementById('hide').hidden = false;
      }
      else{
        document.getElementById('hide').hidden = true;
      }
    }
   
    function superid(){
      if("<%=role%>"=="SuperID")
      {
        document.getElementById('dropdownlist3').hidden = false;
        document.getElementById('dropdownlist3').disabled = false;
      }
      else{
        document.getElementById('dropdownlist3').hidden = true;
        document.getElementById('dropdownlist3').disabled = true;
      }

    }
    
  </script>


</head>

<body onload="superid()">

  <div>
    <center>
      <% if(message.length>0){ %>
        <div class="alert-danger">
          <h5>
            <%- message %>
          </h5>
        </div>
        <% } %><a href="/daterange"><img src="/images/logo.png" /></a>
    </center>
  </div><br>
  <div align="center"><label onclick="update()" id="update" class="btn btn-primary"><span>Update</span></label><label onclick="cancel()"
    id="cancel" class="btn btn-danger" hidden><span>Cancel</span></label></div>
  <div id="calender">
    <table>
      <tr>
        <td>
          <div>
            <table class="styled-table">
              <thead>
                <tr>
                  <th>TBID</th>
                  <th>Days</th>
                  <th>Time1 Start/End</th>
                  <th>Time2 Start/End</th>
                  <th>Hostel</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <% if(result.length> 0) { %>

                    <% for(var i=0;i<result.length;i++){ %>

                <tr>
                  <td><%-result[i].tbid%></td>
                  <td><%- result[i].days%></td>
                  <td align="center"><%- result[i].start%> ~ <%- result[i].end%></td>
                  <td align="center"><%- result[i].start1%> ~ <%- result[i].end1%></td>
                    <td><%- result[i].hostel%> </td>

                </tr>

                <% } %>

                  <% }else{ %>
                    <tr class="warning no-result">
                      <td colspan="8"> <i class="fa fa-warning"></i>Data Not found</td>
                    </tr>
                    <% } %>
      </tr>

      </tbody>
    </table>
  </div><br>
  </td>
  <td>
    <div>
      <div id="calender"> <iframe src="https://calendar.google.com/calendar/embed?height=300&wkst=1&bgcolor=%23ffffff&ctz=Asia%2FKolkata&title=Hostel&showPrint=0&showTabs=1&showDate=1&hl=en&src=ZW4uaW5kaWFuI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%230B8043" style="border-width:0" width="600" height="300" frameborder="0" scrolling="no"></iframe></div>
    </div>
    
    
  </td>
  </tr>
  </table>
  </div>
  
  <br>

  <div id="table-mix" hidden>
    
    <div class="row">
      <div class="form-holder">
        <div class="form-content">
          <div class="form-items">
            <h3>Date/Time Bound</h3>
            <p>Make Changes</p>
            <form class="requires-validation" action="/updatetimebound" method="post" >

              <div class="col-md-12">
                <select class="form-select mt-3" name="dropdownlist1" required>
                  <option value='Sunday' id="Sunday">Sunday</option>
                  <option value='Monday' id="Monday">Monday</option>
                  <option value='Tuesday' id="Tuesday">Tuesday</option>
                  <option value='Wednesday' id="Wednesday">Wednesday</option>
                  <option value='Thursday' id="Thursday">Thursday</option>
                  <option value='Friday' id="Friday">Friday</option>
                  <option value='Saturday' id="Saturday">Saturday</option>
                </select>
              </div>
              
            </div>
              
            <div class="col-md-12" >
              <select class="form-select mt-3" id="dropdownlist3" name="hostel" hidden disabled >
                <option value='Boys' id="Boys" >Boys</option>
                <option value='Girls' id="Girls" >Girls</option>
              </select><br>
            </div>


            <div class="col-md-12" hidden disabled>
              <select class="form-select mt-3" id="dropdownlist2" required onclick="showdiv()">
                <option value='Working Day' id="Working Day" hidden disabled>Working Day</option>
                <option value='Holiday' id="Holiday" hidden disabled>Holiday</option>
                <option value='Custom' id="Custom" selected >Custom</option>
                
              </select>
            </div>
            <div id="hide" >
              <h5>Time1</h5>
              <div class="col-md-12"><label>Start</label>
              <input class="form-control" type="time" name="StartTime1" placeholder="Start Time1">
            </div>
            <div class="col-md-12"><label>End</label>
              <input class="form-control" type="time" name="EndTime1" placeholder="End Time1">
            </div><br>
            <h5>Time2</h5>
            <div class="col-md-12"><label>Start</label>
              <input class="form-control" type="time" name="StartTime2" placeholder="Start Time2">
            </div>
            <div class="col-md-12"><label>End</label>
              <input class="form-control" type="time" name="EndTime2" placeholder="End Time2">
            </div>
              <div class="form-button mt-3">
                <button id="submit" type="submit" class="btn btn-primary">Update</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
<br>

  
</body>

</html>