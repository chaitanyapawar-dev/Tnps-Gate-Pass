<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Update</title>
  <link rel="stylesheet" href="/stylesheets/hostelpanel.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="icon" href="/images/4174.png">


  <script>
    function myFunction() {
      var input, filter, table, tr, td, i;
      input = document.getElementById("searchbar");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1]; // for column one
        td1 = tr[i].getElementsByTagName("td")[2]; // for column two
        /* ADD columns here that you want you to filter to be used on */
        if (td) {
          if ((td.innerHTML.toUpperCase().indexOf(filter) > -1) || (td1.innerHTML.toUpperCase().indexOf(filter) > -1)) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

    function dateandtime() {
      var date = "2012-12-12 05:18:28.541";
      var offset = (3600000 * (+5.50 + 8));
      var dateformate = 'dd/mm/yyyy "at" h:MM TT';

      var dateArray = (date).split(' ');
      var year = dateArray[0].split('-');
      var time = dateArray[1].split(':');

      var d = new Date($.trim(year[0]), $.trim(year[1] - 1), $.trim(year[2]), $.trim(time[0]), $.trim(time[1]));
      var nd = new Date(d.getTime() + offset);
      alert(dateFormat(nd, dateformate));
    }

  </script>


</head>

<body onload="dateandtime()">

  <div>
    <center>
      <a href="/daterange"><img src="/images/logo.png" /></a><br>
      <% if(message.length>0){ %>
        <div class="alert-danger">
          <h5>
            <%- message %>
          </h5>
        </div>
        <% } %>
    </center>
  </div><br>

  <div class="container">

    <div class="row justify-content-center">

      <div><input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
          aria-describedby="search-addon" id="searchbar" onkeyup="myFunction()" />
        <i class="fas fa-search"></i>
      </div>
    </div>
  </div>
  <div class="container table-responsive py-5">
    <table class="table table-bordered table-hover" id="myTable">
      <thead class="thead-dark">

        <tr>

          <th scope="col">S.N</th>
          <th scope="col">UID</th>
          <th scope="col">NAME</th>
          <th scope="col">ROLE</th>
          <th scope="col">ACTION</th>

        </tr>
      </thead>
      <tbody>
        <% if(result.length> 0) { %>

          <% for(var i=0;i<result.length;i++){ %>

            <tr>
              <td scope="row"><%- i + 1 %></td>
              <td><a href="/userprofile/<%-result[i].uid%>"><%-result[i].uid%></a></td>
              <td><%- result[i].name%></td>
              <td><%- result[i].category%></td>
              <td><a href="/deleteuser/<%-result[i].uid%>"><i class="material-icons">delete</i></a></td>
            </tr>

            <% } %>

              <% }else{ %>
                <tr class="warning no-result">
                  <td colspan="10"> <i class="fa fa-warning"></i>
                    <center>Data Not found</center>
                  </td>
                </tr>
                <% } %>
      </tbody>
    </table>
  </div>


</body>

</html>